import { F as FileService, N as NamedWritableStream, b as SystemService, E as Env, V as VoidFunc, S as SysAbstraction } from '../sys-abstraction-BTs3Vzy4.cjs';
import { T as TxtEnDecoder } from '../get-params-result-4xHM5s4_.cjs';
import { E as ExitService, a as ExitHandler, W as WrapperSysAbstractionParams } from '../base-sys-abstraction-DAZ8tx5F.cjs';

declare class NodeFileService implements FileService {
    readonly baseDir: string;
    constructor(baseDir?: string);
    readFileString(fname: string): Promise<string>;
    dirname(fname: string): string;
    basename(fname: string): string;
    join(...paths: string[]): string;
    relative(from: string, to?: string): string;
    abs(fname: string): string;
    isAbsolute(fname: string): boolean;
    writeFileString(fname: string, content: string, ende?: TxtEnDecoder): Promise<void>;
    create(fname: string): Promise<NamedWritableStream>;
}

declare class NodeExitServiceImpl implements ExitService {
    constructor();
    _exitHandlers: ExitHandler[];
    injectExitHandlers(hdls: ExitHandler[]): void;
    invoked: boolean;
    readonly _handleExit: () => Promise<void>;
    exit(code: number): void;
}
declare class NodeSystemService implements SystemService {
    static readonly _exitHandlers: ExitHandler[];
    readonly _exitService: ExitService;
    constructor();
    Env(): Env;
    Args(): string[];
    OnExit(hdl: VoidFunc): VoidFunc;
    Exit(code: number): void;
}
declare function NodeSysAbstraction(param?: WrapperSysAbstractionParams): SysAbstraction;

interface FileCollector {
    readonly name: string;
    content: string;
}
declare class MockFileService extends NodeFileService {
    readonly files: Record<string, FileCollector>;
    create(fname: string): Promise<NamedWritableStream>;
}

export { type FileCollector, MockFileService, NodeExitServiceImpl, NodeFileService, NodeSysAbstraction, NodeSystemService };
