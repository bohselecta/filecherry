{"version":3,"sources":["../../src/web/web-sys-abstraction.ts"],"sourcesContent":["import { BaseSysAbstraction, WrapperSysAbstraction, WrapperSysAbstractionParams } from \"../base-sys-abstraction.js\";\nimport { FileService, NamedWritableStream } from \"../file-service.js\";\nimport { SysAbstraction, SystemService, VoidFunc } from \"../sys-abstraction.js\";\nimport { Env, envFactory } from \"../sys-env.js\";\nimport { TxtEnDecoderSingleton } from \"../txt-en-decoder.js\";\n\nexport class WebFileService implements FileService {\n  get baseDir(): string {\n    throw new Error(\"basedir-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  create(fname: string): Promise<NamedWritableStream> {\n    throw new Error(\"create-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  readFileString(fname: string): Promise<string> {\n    throw new Error(\"readFileString-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  writeFileString(fname: string, content: string): Promise<void> {\n    throw new Error(\"writeFileString-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  abs(fname: string): string {\n    throw new Error(\"abs-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  join(...paths: string[]): string {\n    throw new Error(\"join-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  relative(from: string, to?: string): string {\n    throw new Error(\"relative-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  dirname(fname: string): string {\n    throw new Error(\"dirname-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  basename(fname: string): string {\n    throw new Error(\"basename-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  nodeImport(fname: string): string {\n    throw new Error(\"nodeImport-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isAbsolute(fname: string): boolean {\n    throw new Error(\"isAbsolute-Method not implemented.\");\n  }\n}\n\nclass WebSystemService implements SystemService {\n  Env(): Env {\n    return envFactory();\n  }\n  Args(): string[] {\n    throw new Error(\"Args-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  OnExit(hdl: VoidFunc): VoidFunc {\n    throw new Error(\"OnExit-Method not implemented.\");\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Exit(code: number): void {\n    throw new Error(\"Exit-Method not implemented.\");\n  }\n}\n\nlet my: BaseSysAbstraction | undefined = undefined;\nexport function WebSysAbstraction(param?: WrapperSysAbstractionParams): SysAbstraction {\n  if (!my) {\n    my = new BaseSysAbstraction({\n      TxtEnDecoder: param?.TxtEnDecoder || TxtEnDecoderSingleton(),\n      FileSystem: new WebFileService(),\n      SystemService: new WebSystemService(),\n    });\n  }\n  return new WrapperSysAbstraction(my, param);\n}\n"],"mappings":";;;;;;;;;;AAMO,IAAM,iBAAN,MAA4C;AAAA,EACjD,IAAI,UAAkB;AACpB,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA,EAEA,OAAO,OAA6C;AAClD,UAAM,IAAI,MAAM,gCAAgC;AAAA,EAClD;AAAA;AAAA,EAEA,eAAe,OAAgC;AAC7C,UAAM,IAAI,MAAM,wCAAwC;AAAA,EAC1D;AAAA;AAAA,EAEA,gBAAgB,OAAe,SAAgC;AAC7D,UAAM,IAAI,MAAM,yCAAyC;AAAA,EAC3D;AAAA;AAAA,EAEA,IAAI,OAAuB;AACzB,UAAM,IAAI,MAAM,6BAA6B;AAAA,EAC/C;AAAA;AAAA,EAEA,QAAQ,OAAyB;AAC/B,UAAM,IAAI,MAAM,8BAA8B;AAAA,EAChD;AAAA;AAAA,EAEA,SAAS,MAAc,IAAqB;AAC1C,UAAM,IAAI,MAAM,kCAAkC;AAAA,EACpD;AAAA;AAAA,EAEA,QAAQ,OAAuB;AAC7B,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA,EAEA,SAAS,OAAuB;AAC9B,UAAM,IAAI,MAAM,kCAAkC;AAAA,EACpD;AAAA;AAAA,EAEA,WAAW,OAAuB;AAChC,UAAM,IAAI,MAAM,oCAAoC;AAAA,EACtD;AAAA;AAAA,EAEA,WAAW,OAAwB;AACjC,UAAM,IAAI,MAAM,oCAAoC;AAAA,EACtD;AACF;AAEA,IAAM,mBAAN,MAAgD;AAAA,EAC9C,MAAW;AACT,WAAO,WAAW;AAAA,EACpB;AAAA,EACA,OAAiB;AACf,UAAM,IAAI,MAAM,8BAA8B;AAAA,EAChD;AAAA;AAAA,EAEA,OAAO,KAAyB;AAC9B,UAAM,IAAI,MAAM,gCAAgC;AAAA,EAClD;AAAA;AAAA,EAEA,KAAK,MAAoB;AACvB,UAAM,IAAI,MAAM,8BAA8B;AAAA,EAChD;AACF;AAEA,IAAI,KAAqC;AAClC,SAAS,kBAAkB,OAAqD;AACrF,MAAI,CAAC,IAAI;AACP,SAAK,IAAI,mBAAmB;AAAA,MAC1B,eAAc,+BAAO,iBAAgB,sBAAsB;AAAA,MAC3D,YAAY,IAAI,eAAe;AAAA,MAC/B,eAAe,IAAI,iBAAiB;AAAA,IACtC,CAAC;AAAA,EACH;AACA,SAAO,IAAI,sBAAsB,IAAI,KAAK;AAC5C;","names":[]}