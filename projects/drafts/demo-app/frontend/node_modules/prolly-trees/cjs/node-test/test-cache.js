'use strict';

var cache = require('../src/cache.js');
var assert = require('assert');

describe('cache', () => {
  it('nocache get error', async () => {
    let threw = true;
    try {
      await cache.nocache.get('nope');
      threw = false;
    } catch (e) {
      if (e.message !== 'Cannot ask for entries from nocache')
        throw e;
    }
    assert.deepStrictEqual(threw, true);
  });
  it('no found in global', async () => {
    let threw = true;
    try {
      await cache.global.get('nope');
      threw = false;
    } catch (e) {
      if (e.message !== 'Not found')
        throw e;
    }
    assert.deepStrictEqual(threw, true);
  });
});
